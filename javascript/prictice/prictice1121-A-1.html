<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form id="frm_login">
    <input type="text" id="loginId" placeholder="아이디"><br>
    <input type="password" id="loginPw" placeholder="비밀번호"><br>
    <button id="btnLogin" onclick="tryLogin()">로그인 시도</button><br>
    </form>

    <script>
        //코드작성
        const input_id = document.getElementById('loginId');
        const input_pw = document.getElementById('loginPw');
        const btn_login = document.getElementById('btnLogin');
        const frm_login = document.getElementById('frm_login');

        function tryLogin(){
            input_id.value ='';
            input_pw.value ='';
        }

        input_id.addEventListener('keydown',(event)=>{
            //console.log(event);

            if(event.keyCode == 13){
                event.preventDefault();
                input_pw.focus();
            }
        })

        input_pw.addEventListener('keydown',(event)=>{

            if(event.keyCode == 13){

                //event.preventDefault();

                //로그인 버튼 눌린것과 동일한 기능을 수행

                //1) 똑같은 코드 사용
                //input_id.value ='';
                //input_pw.value ='';

                //2) 동일한 함수 호출
                //tryLogin();

                //3) 로그인 버튼을 눌러버리기
                btn_login.click();  //클릭효과!
                //btn_login.focus(); //눌린 클릭효과 발생
            }
        });

        frm_login.addEventListener("submit",(event)=>{
            event.preventDefault();
            console.log('submit');

            //tryLogin();
            //유효성검증(사전 필터링)

            if(input_id.value.trim() == ''){
                alert("아이디 입력해주세요");
                input_id.value='';
                input_id.focus();
                return;
            };

            if(input_pw.value.trim() ==''){
                alert("비밀번호 입력해주세요");
                input_pw.value='';
                input_pw.focus();
                return;
            };

            //frm_login.submit();   //서브밋 효과로 새로고침 -> 아이디 비번 지원짐
            tryLogin(); //아이디 비번 빈값 변경
        })
    </script>
</body>

</html>